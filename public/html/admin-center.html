<!doctype html>
<html lang=en>
<head>
<meta charset=UTF-8>
<title>OnlySats Admin</title>
<link rel="icon" href="/img/OnlySats_Logo.svg" type="image/x-icon">
<link rel=stylesheet href=../css/home.css>
</head>
<body>
<div class=navbar>
<a href=/ >Home</a>
<a href=../gallery>Gallery</a>
<a href=../about>About Station</a>
<a href=login>Log In</a>
<button id=openThemeBtn type=button style=background:inherit;border:none;padding:6px>ðŸŽ¨</button>
<div class=dropdown>
<button class=dropbtn>â˜°</button>
<div class=dropdown-content>
<a class=active href=local/admin>Admin Panel</a>
<a href=satdump>Satdump</a>
<a href=stats>System</a>
</div>
</div>
</div>
<section class=card id=settings-root style="max-width:900px;margin:24px auto;padding:16px;border:1px solid #ddd;border-radius:12px">
<h2 style=display:flex;align-items:center;gap:.5rem>
Settings
<small id=settings-status style=color:#888;font-weight:400></small>
</h2>
<h3 style=display:flex;align-items:center;gap:.5rem>
General station settings
<span class=info title="set what visitors see on your page or create logins for your friends">â“˜</span>
</h3>
<button id=btn-open-users type=button>Manage Users</button>
<form action="configure-about">
  <input type="submit" value="Edit About Page"/>
</form>
<form action="messages-admin">
  <input type="submit" value="Create a Post"/>
</form>
<h3 style=display:flex;align-items:center;gap:.5rem>
Images
<span class=info title="Set composite names for what the filename will appear as.\nDisabling a composite will make it non-viewable in the gallery">â“˜</span>
</h3>
<button id=btn-open-composites type=button>Manage Composites</button>
<form action="configure-passes">
  <input type="submit" value="Configure Passes"/>
</form>
<button id="repopulateBtn" class="btn btn-warning">Repopulate .DB</button>
<hr style="margin:20px 0">
<div>
  <h3 style="display:flex;align-items:center;gap:.5rem">
    Rate Limiting
    <span class="info" title="Set network request limits/defaults">â“˜</span>
  </h3>
  <div style="display:flex;align-items:center;gap:.5rem;margin-top:10px">
    <label for="update-cd" style="min-width:260px">Update cooldown</label>
    <input id="update-cd" type="number" min="0" step="1" value="0" style="width:140px">
    <span style="color:#666"><b>s</b></span>
  </div>
  <div style="display:flex;align-items:center;gap:.5rem;margin-top:10px">
    <label for="pass-limit" style="min-width:260px">Display limit</label>
    <input id="pass-limit" type="number" min="0" step="1" value="0" style="width:140px">
    <span style="color:#666"><b>passes</b></span>
  </div>
  <div style="display:flex;align-items:center;gap:.5rem;margin-top:10px">
    <label for="satdump-rate" style="min-width:260px">Satdump graph polling rate</label>
    <input id="satdump-rate" type="number" min="0" step="1" value="0" style="width:140px">
    <span style="color:#666"><b>ms</b></span>
  </div>
  <div style="display:flex;align-items:center;gap:.5rem;margin-top:10px">
    <label for="satdump-span" style="min-width:260px">Satdump graph span</label>
    <input id="satdump-span" type="number" min="0" step="1" value="0" style="width:140px">
    <span style="color:#666"><b>s</b></span>
  </div>
</div>
<div style=margin-top:16px>
<h3 style=display:flex;align-items:center;gap:.5rem>
Satdump instances
<span class=info title="Add one or more Satdump UIs you proxy. Name is the key; address may be left blank to use local; port is optional (0 = unset).">â“˜</span>
</h3>
<div style="display:grid;grid-template-columns:1.4fr 1.4fr 140px 40px;gap:8px;align-items:center;font-weight:600;opacity:.8">
<div>Name</div>
<div>Address (optional)</div>
<div>Port</div>
<div></div>
</div>
<div id=satdump-rows style=display:grid;gap:8px;margin-top:8px></div>
<div style=display:flex;gap:8px;margin-top:8px>
<button type=button id=satdump-add>+ Add instance</button>
<button type=button id=satdump-save>Save instances</button>
</div>
</div>
<div>
<h3 style=display:flex;align-items:center;gap:.5rem>
Hardware monitoring
<span class=info title="Choose how to collect host metrics. HWiNFO requires its local server enabled on Windows; Native uses built-in methods.">â“˜</span>
</h3>
<select id=hwmonitor style=margin-top:8px;min-width:220px>
<option value=off>Off</option>
<option value=hwinfo>HWiNFO</option>
<option value=native>Native</option>
</select>
</div>
<hr style="margin:20px 0">
<div>
<h3 style=display:flex;align-items:center;gap:.5rem>
Archiving
<span class=info title="If enabled, passes older than the span are archived; you can optionally force retention of archived data. Clean-up deletes passes permanently after the specified days.">â“˜</span>
</h3>
<label style=display:flex;align-items:center;gap:.5rem;margin-top:8px>
<input type=checkbox id=archive-active>
Enable archiving
</label>
<div id=archive-advanced style="margin-top:10px;padding-left:10px;border-left:3px solid #eee;display:none">
<div style=display:flex;align-items:center;gap:.5rem;margin-top:8px>
<label for=archive-span style=min-width:240px>Archive passes after (days)</label>
<input id=archive-span type=number min=1 step=1 value=60 style=width:120px>
</div>
</div>
<div style=display:flex;align-items:center;gap:.5rem;margin-top:12px>
<label for=archive-clean style=min-width:240px>Delete passes after (days)</label>
<input id=archive-clean type=number min=0 step=1 value=0 style=width:120px>
<span style=color:#666>(0 = never delete)</span>
</div>
</div>
<hr style="margin:20px 0">
<div style=display:flex;gap:8px;justify-content:flex-end>
<button type=button id=settings-save>Save settings</button>
</div>
</section>
<div id=admin-center-stats style="max-width:900px;margin:24px auto;padding:16px;border:1px solid #ddd;border-radius:12px">
<p>Loading stats...</p>
</div>
<div>
<div id=composites-modal class="comp-modal hidden" aria-hidden=true>
<div class=comp-modal-backdrop data-close=1></div>
<div class=comp-modal-card>
<div class=comp-modal-head>
<h3>Composites</h3>
<button class=comp-close type=button data-close=1 aria-label=Close>Ã—</button>
</div>
<div class=comp-modal-body>
<div class=comp-actions>
<button id=btn-add-composite type=button>Add Composite</button>
<button id=btn-save-composites type=button>Save</button>
</div>
<div class=comp-table-wrap>
<table class=comp-table id=composites-table>
<thead>
<tr>
<th style=width:30%>Key</th>
<th style=width:50%>Name</th>
<th style=width:10%>Enabled</th>
<th style=width:10%>Actions</th>
</tr>
</thead>
<tbody></tbody>
</table>
</div>
<div id=comp-msg class=comp-msg role=status aria-live=polite></div>
</div>
</div>
</div>
<div id=themeModal class=theme-modal aria-hidden=true>
<div class=theme-modal-backdrop></div>
<div class=theme-modal-content role=dialog aria-modal=true aria-labelledby=themeModalTitle>
<div class=theme-modal-header>
<h3 id=themeModalTitle>Edit Theme Colors</h3>
<button type=button class=theme-close id=themeCloseBtn aria-label=Close>âœ•</button>
</div>
<div class=theme-modal-body>
<p style="margin:0 0 8px">Set values for your CSS variables in your preferred encoding.</p>
<div id=themeRows class=theme-rows></div>
<button type=button id=addThemeRowBtn class=theme-add-row>ï¼‹ Add another</button>
<div id=themeMsg class=theme-msg role=status aria-live=polite></div>
</div>
<div class=theme-modal-footer>
<button type=button id=themeCancelBtn class=theme-btn-secondary>Cancel</button>
<button type=button id=themeSaveBtn class=theme-btn-primary>Save</button>
</div>
</div>
</div>
<div id=users-modal class="comp-modal hidden" aria-hidden=true>
<div class=comp-modal-backdrop data-uclose=1></div>
<div class=comp-modal-card role=dialog aria-modal=true aria-labelledby=usersModalTitle>
<div class=comp-modal-head>
<h3 id=usersModalTitle>Users</h3>
<button class=comp-close type=button data-uclose=1 aria-label=Close>Ã—</button>
</div>
<div class=comp-modal-body>
<div class=comp-actions style=gap:8px;display:flex>
<button id=btn-add-user type=button>Add User</button>
<button id=btn-save-users type=button>Save</button>
</div>
<div class=comp-table-wrap style=margin-top:8px>
<table class=comp-table id=users-table>
<thead>
<tr>
<th style=width:40%>Username</th>
<th style=width:20%>Auth Level (0-10)</th>
<th style=width:25%>Password</th>
<th style=width:15%>Actions</th>
</tr>
</thead>
<tbody></tbody>
</table>
</div>
<div id=users-msg class=comp-msg role=status aria-live=polite></div>
</div>
</div>
</div>
<style>.theme-modal{position:fixed;inset:0;display:none;z-index:1000}.theme-modal[aria-hidden=false]{display:block}.theme-modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.4)}.theme-modal-content{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#121212;color:#eee;width:min(92vw,760px);border-radius:12px;box-shadow:0 10px 40px rgba(0,0,0,.5)}.theme-modal-footer,.theme-modal-header{padding:12px 16px;display:flex;align-items:center;justify-content:space-between}.theme-modal-body{padding:0 16px 16px}.theme-close{background:0 0;border:0;color:#aaa;font-size:18px;cursor:pointer}.theme-rows{display:grid;gap:10px;margin:8px 0}.theme-row{display:grid;grid-template-columns:1.2fr 1fr 130px 1.6fr auto;gap:8px;align-items:center}.theme-row input[type=color],.theme-row input[type=text],.theme-row select{width:100%;padding:8px;border-radius:8px;border:1px solid #333;background:#1b1b1b;color:#eee}.theme-row input[type=color]{padding:0;height:40px}.theme-row-del{padding:0 10px;border-radius:8px;border:1px solid #333;background:#1b1b1b;color:#eee;cursor:pointer;height:40px}.theme-add-row{margin-top:6px;border:1px dashed #444;background:0 0;color:#ddd;padding:6px 10px;border-radius:8px;cursor:pointer}.theme-btn-primary,.theme-btn-secondary{padding:8px 12px;border-radius:8px;border:1px solid #333;cursor:pointer}.theme-btn-secondary{background:#1b1b1b;color:#ddd}.theme-btn-primary{background:#2a6df4;color:#fff;border-color:#2a6df4}.theme-msg{margin-top:10px;min-height:20px;font-size:.95em;color:#ccc}.theme-msg.error{color:#ff8585}.theme-msg.ok{color:#7bffb9}.info{cursor:help;color:#666;border:1px solid #aaa;border-radius:50%;width:1.1em;height:1.1em;display:inline-flex;align-items:center;justify-content:center;font-size:.85em;user-select:none}.row{display:grid;grid-template-columns:1fr 1fr 20% 30px;gap:8px;align-items:center}.card{color:var(--text)}.row input[type=text]{width:100%}.row input[type=number]{width:100%}.row .remove{color:#a00;background:0 0;border:1px solid #a00;border-radius:8px;padding:4px 8px;cursor:pointer}</style>
</div>
<script src=../js/admin_center.js></script>
</body>
</html>